# Signal Documentation Synchronisation Report

**Date:** 2025-11-22 19:07:51 UTC  
**Purpose:** Align all documentation with updated Signal integration architecture where Aura never connects directly to Signal, and all communication flows through Pulse.

---

## Summary

This report documents changes made to align documentation with the updated architecture that specifies:

- **Aura must NEVER connect directly to Signal**
- **Pulse is the sole client of Signal**
- **Signal communicates ONLY with Pulse**
- All high-rate analysis/gesture/metering streams flow: Signal → Pulse → Aura

All modifications were documentation-only changes; no runtime code, file layouts, types, imports, or function names were modified.

---

## Files Modified

### 1. `docs/specs/ipc/semantics.md`

**Changes:**

- **Section 1 (IPC Participants):** Completely rewrote the primary IPC participants section to remove outdated "Aura → Signal" and "Signal → Aura" direct communication references.

  - **Old:** Listed "Aura → Signal" and "Signal → Aura" as primary participants
  - **New:** Lists proper flow:
    - Aura → Pulse (all editing intents)
    - Pulse → Aura (state deltas, aggregated data from Signal)
    - Pulse → Signal (control messages, gesture data)
    - Signal → Pulse (telemetry, errors, engine status)
  - Added explicit note: "Aura never communicates directly with Signal. All communication flows through Pulse as the central hub."

- **Section 2.1 (Commands):** Updated command source description
  - **Old:** "Commands are typically sent from Aura or Pulse to Signal."
  - **New:** "Commands are typically sent from Aura to Pulse, or from Pulse to Signal. Aura never sends commands directly to Signal."

- **Section 8 (Implementation Notes):** Clarified Aura's state reconciliation
  - **Old:** "reconciled against Pulse and Signal responses"
  - **New:** "reconciled against Pulse responses (which aggregate data from Signal)"

**Rationale:** This file is a key semantics reference and needed to reflect the correct architecture flow.

---

### 2. `docs/architecture/e01-windowing-and-plugin-ui.md`

**Changes:**

- **Section 7.1 (Responsibility Split):** Updated Pulse's responsibility description
  - **Old:** "carrying position/size commands between Aura and Signal"
  - **New:** "relaying position/size commands from Aura to Signal via standard IPC"
  - Added explicit note: "Pulse acts as the intermediary: Aura sends plugin UI commands to Pulse, and Pulse forwards them to Signal. Aura never communicates directly with Signal."

- **Section 7.1 (Cooperation description):** Updated window geometry constraint description
  - **Old:** "Aura and Signal cooperate to constrain the actual window geometry"
  - **New:** "Pulse coordinates between Aura and Signal to constrain the actual window geometry"

- **Section 7.2 (IPC Considerations):** Updated `pluginUi.windowGeometryChanged` event description
  - **Old:** "Event from Signal to Pulse/Aura when a plugin window is resized"
  - **New:** "Event from Signal to Pulse when a plugin window is resized. Pulse forwards this event to Aura via standard IPC."

**Rationale:** Clarified that Pulse is the intermediary for all plugin UI coordination, not direct Aura-Signal communication.

---

### 3. `docs/decisions/20251116-ipc-transport-and-topology.md`

**Changes:**

- **Header section:** Added a historical note after the metadata
  - **Added:** Note explaining that this decision describes the initial topology where Aura connected directly to Signal, and that this architecture has been superseded. References the current architecture in `docs/specs/ipc/overview.md`.

**Rationale:** This is a historical decision document that describes an old architecture. Rather than rewriting history, we added a note that the decision has been superseded by the current architecture. This preserves historical context while preventing confusion.

---

## Ambiguous References Resolved

### Ambiguous Pattern: "engine stream goes to the client"

Found in various places where telemetry/analysis data flow was described without specifying Pulse's role. Resolved by explicitly stating:

- Signal sends data to Pulse (via high-rate side-channel if needed)
- Pulse aggregates and forwards curated events to Aura via standard JSON IPC

---

## References Already Correct

The following files were checked but already correctly reflected the updated architecture:

- `docs/specs/ipc/overview.md` - Already updated in previous pass
- `docs/specs/ipc/pulse/metering.md` - Already updated in previous pass
- `docs/specs/ipc/pulse/gesture.md` - Already updated in previous pass
- `docs/specs/ipc/signal/gesture.md` - Already updated in previous pass
- `docs/architecture/a04-aura.md` - Already updated in previous pass
- `docs/specs/ipc/envelope.md` - Already correctly states "direct Aura ⇄ Signal messaging is not permitted"

---

## Files Checked But Not Modified

The following files were reviewed but did not contain outdated references requiring changes:

- `docs/architecture/a01-overview.md` - Correctly describes Pulse as central hub
- `docs/architecture/a02-pulse.md` - Correctly describes Pulse ↔ Signal relationship
- `docs/architecture/a03-signal.md` - Correctly describes Signal as private engine service
- `CHANGELOG.md` - Already contains entry documenting the architecture update

---

## Summary of Changes

**Total files modified:** 3

**Key improvements:**
1. Removed all remaining references to direct Aura ↔ Signal communication
2. Clarified Pulse's role as the sole intermediary between Aura and Signal
3. Added historical note to superseded decision document
4. Improved clarity around event forwarding patterns

All changes maintain British English spelling and existing writing style, as required.

---

## Notes

- No runtime code was modified; only documentation, comments, and references were updated.
- Historical decision documents were annotated rather than rewritten to preserve context.
- All changes align with the principle that **Pulse is the central hub** and **Aura never connects directly to Signal**.

